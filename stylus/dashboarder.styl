@import "nib"

body, html
  width 100%
  height 100%
  margin 0
  padding 0
  background #333
  transition transform 500ms ease-in-out
  perspective 2000px
  font-family Helvetica, Arial, sans-serif
  color #333

form
  position relative
  z-index 2
  width 100%
  height 100%
  background white
  display flex
  flex-direction column
  align-items center
  justify-content center

  input[name=duration]
    width 45px
    font-size 13px
    margin 5px

  legend
    font-size 50px
    font-weight lighter
    margin-bottom 20px

  fieldset
    border none
    width 100%
    text-align center
    max-height 90%
    padding 0px

  .input-row
    position relative
    width 40%
    max-width 700px
    margin 15px auto

    input
      &[type=url]
        width 100%
        box-sizing border-box

      &[type=number]
        position absolute
        right 100%
        margin-right 20px
        width 105px

    label
      color #666

      &.persistent
        position absolute
        left 100%
        margin-left 10px
        top 0
        line-height 37px
        white-space nowrap

  .actions
    justify-content center

    a.reset
      display inline-block
      color #333
      text-decoration none
      margin-top 10px
      font-size 12px

input
  padding 0.3em
  font-size 20px
  background white
  border 1px solid #ccc
  border-radius 3px
  text-align center
  margin 0
  transition background-color 100ms linear

  &[type=number], &[type=text], &[type=url]
    fieldset:disabled &, &:disabled
      background #EEE

  label > &[type=checkbox]
    margin-right 5px

  &[type=submit]
    transition opacity 100ms linear
    color #FFF
    width 200px
    min-width 100px
    cursor pointer
    background-color #428BCA
    border-color #357EBD
    margin auto

    &:hover
      border-color #285E8E
      background-color #3276B1

    &:active
      background-color #3276B1
      border-color #285E8E
      box-shadow inset 0 3px 5px rgba(0, 0, 0, 0.125)

    fieldset.disabled &, &:disabled
      opacity 0.65
      cursor auto

      &:hover, &:active
        background-color #428BCA
        border-color #357EBD

body.started
  form
    transition opacity 1s ease-in-out
    opacity 0

#dashboards
  position absolute
  top 0
  left 0
  min-width 100%
  min-height 100%
  z-index 1

  iframe
    width 100%
    height 100%
    border none
    display none
    position absolute
    top 0
    left 0
    transform translate3d(0, 0, 0)
    background white

    &.current, &.next
      display block

    &.current
      z-index 4

    &.next
      z-index 3

  &.switch
    animation zoom 2s ease-in-out
    animation-fill-mode forwards
    animation-iteration-count 1

    iframe.current
      animation switch 1s ease-in-out 500ms
      animation-fill-mode forwards
      animation-iteration-count 1
      transform-origin 120% 100%

@keyframes zoom
  from
    transform scale(1)

  25%
    transform scale(0.4)

  75%
    transform scale(0.4)

  to
    transform scale(1)

@keyframes switch
  from
    transform rotate(0deg) translateX(0%)
    transform-origin 110% 100%

  10%
    transform rotate(0deg)
    transform-origin 110% 100%

  50%
    transform rotate(70deg) rotateX(-10deg)
    transform-origin 130% 100%
    z-index 4

  51%
    transform rotate(70deg) rotateX(-10deg)
    transform-origin 130% 100%
    z-index 2

  100%
    transform rotate(0) rotateX(0)
    transform-origin 110% 100%
    z-index 2
